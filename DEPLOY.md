# –ü–æ—à–∞–≥–æ–≤–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—é (–¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö)

–ù–∏–∂–µ ‚Äî –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø—Ä–æ—Å—Ç—ã–µ –∏ –ø–æ—à–∞–≥–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è –Ω–∞ –æ–±—ã—á–Ω–æ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ (Windows –∏ Linux/macOS), –∞ —Ç–∞–∫–∂–µ –Ω–∞ Railway –∏ –¥—Ä—É–≥–∏—Ö –æ–±–ª–∞—á–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–∞—Ö.

## 1) –û–±—â–µ–µ: –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:

- Node.js 18+
- Telegram API: `API_ID`, `API_HASH` (–ø–æ–ª—É—á–∏—Ç—å –Ω–∞ `https://my.telegram.org`)
- Bot token: `BOT_TOKEN` (–ø–æ–ª—É—á–∏—Ç—å —É `@BotFather`)

–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–º–∏–Ω–∏–º—É–º):

- `BOT_TOKEN`
- `API_ID`
- `API_HASH`

–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ:

- `ALLOWED_USERS` ‚Äî –¥–æ—Å—Ç—É–ø –∫ –±–æ—Ç—É (`@username,12345`), –ø—É—Å—Ç–æ ‚Äî –¥–æ—Å—Ç—É–ø –≤—Å–µ–º
- `DEFAULT_MODE` ‚Äî `test` –∏–ª–∏ `run` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `test`)
- `DATA_DIR` ‚Äî –∫–∞—Ç–∞–ª–æ–≥ —Ö—Ä–∞–Ω–µ–Ω–∏—è `db.json` –∏ `sessions/`
- `REPORT_DELAY_MIN` / `REPORT_DELAY_MAX` ‚Äî –∑–∞–¥–µ—Ä–∂–∫–∞ –∂–∞–ª–æ–± (–º—Å)
- `MAX_REPORTS_PER_HOUR` / `MAX_REPORTS_PER_DAY` ‚Äî –ª–∏–º–∏—Ç—ã –∂–∞–ª–æ–±

---

## 2) –î–µ–ø–ª–æ–π –Ω–∞ Railway

### –®–∞–≥ 1. –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç

- –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ Railway
- –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç –∏ –ø–æ–¥–∫–ª—é—á–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å —ç—Ç–∏–º –∫–æ–¥–æ–º

### –®–∞–≥ 2. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–î–æ–±–∞–≤—å—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª–µ Variables:

- `BOT_TOKEN`
- `API_ID`
- `API_HASH`
- (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) `ALLOWED_USERS`, `DEFAULT_MODE`, `REPORT_DELAY_MIN`, `REPORT_DELAY_MAX`, `MAX_REPORTS_PER_HOUR`, `MAX_REPORTS_PER_DAY`
- (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ) `DATA_DIR=/data`

### –®–∞–≥ 3. –ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ (Volume)

- –°–æ–∑–¥–∞–π—Ç–µ Volume –∏ –ø—Ä–∏–º–æ–Ω—Ç–∏—Ä—É–π—Ç–µ –∫ `/data`
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ `DATA_DIR=/data` ‚Äî —Ç–∞–º –±—É–¥—É—Ç `db.json` –∏ `sessions/`

### –®–∞–≥ 4. –ö–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫–∞

–í Railway –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –∫–æ–º–∞–Ω–¥—É –∑–∞–ø—É—Å–∫–∞:

```
npm run start:railway
```

–∏–ª–∏

```
node src/app.js
```

–¢–∏–ø —Å–µ—Ä–≤–∏—Å–∞: Worker –∏–ª–∏ Web (–µ—Å–ª–∏ –Ω—É–∂–µ–Ω webhook).

Webhook (–Ω–µ –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω):

- `USE_WEBHOOK=true`
- `WEBHOOK_URL=<–≤–∞—à_–¥–æ–º–µ–Ω_railway>` (–±–µ–∑ —Å—Ö–µ–º—ã), –Ω–∞–ø—Ä–∏–º–µ—Ä `my-app.up.railway.app`
- (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) `WEBHOOK_PATH=/telegram/webhook`

### –®–∞–≥ 5. –î–µ–ø–ª–æ–π –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞

- –ù–∞–∂–º–∏—Ç–µ Deploy –∏ —Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏
- –ü–æ—Å–ª–µ —Å—Ç–∞—Ä—Ç–∞ –æ—Ç–∫—Ä–æ–π—Ç–µ –±–æ—Ç–∞ –≤ Telegram –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ `/start`
- –ß–µ—Ä–µ–∑ –º–µ–Ω—é –¥–æ–±–∞–≤—å—Ç–µ userbot‚Äë–∞–∫–∫–∞—É–Ω—Ç—ã (–Ω–æ–º–µ—Ä ‚Üí –∫–æ–¥ ‚Üí 2FA –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)

–ï—Å–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞ –∑–∞—Ç—è–Ω—É–ª–æ—Å—å –∏–ª–∏ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫ ‚Äî –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –≤ —á–∞—Ç –±–æ—Ç–∞ `/cancel`.

---

## 3) –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ –æ–±—ã—á–Ω–æ–º –ü–ö (Windows/Linux)

### –í–∞—Ä–∏–∞–Ω—Ç A. Windows (PowerShell)

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Node.js 18+ —Å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Å–∞–π—Ç–∞ –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ PowerShell.
2. –û—Ç–∫—Ä–æ–π—Ç–µ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞ (—Ç—É, –≥–¥–µ –ª–µ–∂–∞—Ç —Ñ–∞–π–ª—ã –±–æ—Ç–∞):
```powershell
cd "C:\\–ø—É—Ç—å\\–∫\\–ø–∞–ø–∫–µ\\–ø—Ä–æ–µ–∫—Ç–∞"
```
3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```powershell
npm install
```
4. –û—Ç–∫—Ä–æ–π—Ç–µ –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `config.env` (–º–∏–Ω–∏–º—É–º):
```powershell
notepad config.env
```
–í—Å—Ç–∞–≤—å—Ç–µ –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –ø—Ä–∏–º–µ—Ä:
```env
BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–±–æ—Ç–∞
API_ID=–≤–∞—à_api_id
API_HASH=–≤–∞—à_api_hash
ALLOWED_USERS=@your_username,123456789
DEFAULT_MODE=test
DATA_DIR=./
REPORT_DELAY_MIN=60000
REPORT_DELAY_MAX=180000
MAX_REPORTS_PER_HOUR=10
MAX_REPORTS_PER_DAY=50
```
5. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞:
```powershell
npm start
```
6. –í Telegram –æ—Ç–∫—Ä–æ–π—Ç–µ –±–æ—Ç–∞ ‚Üí `/start` ‚Üí ¬´üë• –ê–∫–∫–∞—É–Ω—Ç—ã¬ª ‚Üí ¬´‚ûï –î–æ–±–∞–≤–∏—Ç—å –∞–∫–∫–∞—É–Ω—Ç¬ª. –ï—Å–ª–∏ –ø–µ—Ä–µ–¥—É–º–∞–ª–∏ ‚Äî –æ—Ç–ø—Ä–∞–≤—å—Ç–µ `/cancel`.

–ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞–Ω–∏–π Windows. –°–æ–∑–¥–∞–π—Ç–µ –∑–∞–¥–∞—á—É –Ω–∞ –∑–∞–ø—É—Å–∫ `npm start` –≤ –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞ –ø—Ä–∏ –≤—Ö–æ–¥–µ –≤ —Å–∏—Å—Ç–µ–º—É.

### –í–∞—Ä–∏–∞–Ω—Ç B. Linux/macOS (—Ç–µ—Ä–º–∏–Ω–∞–ª)

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Node.js 18+ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω:
```bash
node -v   # –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å 18+
```
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
npm install
```
3. –û—Ç–∫—Ä–æ–π—Ç–µ –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ `config.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –∫–∞–∫ –≤ –ø—Ä–∏–º–µ—Ä–µ –≤—ã—à–µ.
4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞:
```bash
npm start
```
5. –í Telegram –æ—Ç–∫—Ä–æ–π—Ç–µ –±–æ—Ç–∞ ‚Üí `/start` –∏ –¥–æ–±–∞–≤—å—Ç–µ –∞–∫–∫–∞—É–Ω—Ç(—ã). –î–ª—è –æ—Ç–º–µ–Ω—ã –≤–≤–æ–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `/cancel`.

–ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):
- systemd (–ø—Ä–∏–º–µ—Ä):
```ini
[Unit]
Description=Telegram Userbot
After=network.target

[Service]
Type=simple
WorkingDirectory=/path/to/project
ExecStart=/usr/bin/node src/app.js
Restart=always
Environment=NODE_ENV=production

[Install]
WantedBy=multi-user.target
```
```bash
sudo nano /etc/systemd/system/telegram-userbot.service
sudo systemctl daemon-reload
sudo systemctl enable telegram-userbot
sudo systemctl start telegram-userbot
```
- –ò–ª–∏ `pm2`:
```bash
npm i -g pm2
pm2 start src/app.js --name telegram-userbot
pm2 save
pm2 startup
```

---

## 4) –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ –æ—Ç–ª–∞–¥–∫–∞

- –í –±–æ—Ç–µ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑–¥–µ–ª—ã: ¬´üë• –ê–∫–∫–∞—É–Ω—Ç—ã¬ª, ¬´üì¢ –ì—Ä—É–ø–ø—ã¬ª, ¬´üö´ –°—Ç–æ–ø‚Äë—Å–ª–æ–≤–∞¬ª, ¬´‚öôÔ∏è –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥¬ª
- –î–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –∂–∞–ª–æ–± –Ω—É–∂–µ–Ω —Ä–µ–∂–∏–º `run`, —Ö–æ—Ç—è —Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Å–Ω–∞—á–∞–ª–∞ –≤ `test`
- –†–µ–∞–ª—Ç–∞–π–º‚Äë—Å–æ–±—ã—Ç–∏—è + –æ–ø—Ä–æ—Å –∫–∞–∂–¥—ã–µ ~45 —Å–µ–∫; –∑–∞–¥–µ—Ä–∂–∫–∞ –∂–∞–ª–æ–±—ã 60‚Äì180 —Å–µ–∫ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

–ï—Å–ª–∏ ¬´–û–±—Ä–∞–±–æ—Ç–∫–∞: üî¥ –ù–µ–∞–∫—Ç–∏–≤–Ω–∞¬ª –ø—Ä–∏ –ø—É—Å—Ç–æ–π –æ—á–µ—Ä–µ–¥–∏ ‚Äî —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ

–ï—Å–ª–∏ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –∞–∫–∫–∞—É–Ω—Ç–∞ –ø–æ—à–ª–∏ –ª–∏—à–Ω–∏–µ SMS/–ø–æ—è–≤–∏–ª–æ—Å—å ¬´Code is empty¬ª, –æ—Ç–ø—Ä–∞–≤—å—Ç–µ `/cancel` –∏ –Ω–∞—á–Ω–∏—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å –∑–∞–Ω–æ–≤–æ.

---

## 5) –ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã

- –ù–µ—Ç –∂–∞–ª–æ–± –≤ –æ—á–µ—Ä–µ–¥–∏ ‚Äî –ø—Ä–æ–≤–µ—Ä—å—Ç–µ: –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã, —Å–ø–∏—Å–æ–∫ –≥—Ä—É–ø–ø, —Å—Ç–æ–ø‚Äë—Å–ª–æ–≤–∞, —Ä–µ–∂–∏–º `run`, –Ω–∞–ª–∏—á–∏–µ –Ω–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π —Å–æ —Å—Ç–æ–ø‚Äë—Å–ª–æ–≤–∞–º–∏
- ID –≥—Ä—É–ø–ø—ã: –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—É–Ω–∫—Ç ¬´–ü–æ–ª—É—á–∏—Ç—å ID –≥—Ä—É–ø–ø—ã¬ª ‚Äî –±–æ—Ç –æ–ø—Ä–µ–¥–µ–ª–∏—Ç –ø–æ–ª–Ω—ã–π `-100...`
- –°–µ—Å—Å–∏–∏: –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `sessions/`; –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç–µ –∫–∞—Ç–∞–ª–æ–≥ –ø—Ä–∏ –º–∏–≥—Ä–∞—Ü–∏–∏

## 6) –î—Ä—É–≥–∏–µ –æ–±–ª–∞–∫–∞ (Render, Fly.io, VPS –∏ —Ç.–ø.)

–û–±—â–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º:

1. –°–æ–∑–¥–∞—Ç—å —Å–µ—Ä–≤–∏—Å Node.js –∏ –∑–∞–¥–∞—Ç—å –∫–æ–º–∞–Ω–¥—É –∑–∞–ø—É—Å–∫–∞ `node src/app.js` (–∏–ª–∏ `npm start`).
2. –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è: `BOT_TOKEN`, `API_ID`, `API_HASH`, –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ `ALLOWED_USERS`, `DEFAULT_MODE`, `DATA_DIR` –∏ –¥—Ä.
3. –û–±–µ—Å–ø–µ—á–∏—Ç—å –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–ª—è `DATA_DIR` (volume/disk), –≥–¥–µ –±—É–¥—É—Ç `db.json` –∏ `sessions/`.
4. –ó–∞–¥–µ–ø–ª–æ–∏—Ç—å –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏. –ü–µ—Ä–≤—É—é –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –∞–∫–∫–∞—É–Ω—Ç–æ–≤ –≤—ã–ø–æ–ª–Ω–∏—Ç—å —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –±–æ—Ç–∞.

Webhook –ø–æ –∂–µ–ª–∞–Ω–∏—é: –≤—ã—Å—Ç–∞–≤—å—Ç–µ `USE_WEBHOOK=true`, `WEBHOOK_URL`, `WEBHOOK_PATH` –∏ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–µ—Ä–≤–∏—Å –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –≤—Ö–æ–¥—è—â–∏–µ –∑–∞–ø—Ä–æ—Å—ã.


